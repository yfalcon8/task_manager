{% extends 'base.html' %}
{% block extra_js %}
<!-- Here is where the link to the JS would go once that is coded -->
<!-- <script type="text/javascript" src="static/"></script> -->
{% endblock %}
{% block content %}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script> 
<!-- This div will be the fixed left bar for the user to click to act on the tasks that are in the "main task div" below -->
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-3 col-lg-2" id="left_bar">
            <nav class="navbar navbar-default navbar-fixed-side">

                <button id="add_task">Add Task</button><br>
                
                <div id="addTaskModal" class="modal"> 
                    <div class="model-content">
                        <span class="close">X</span>
                        <p> 
                            <form action="/url for server">


                            </form> 
                    </p>
                    </div>
                </div>

                <script type="text/javascript">
                //make an ajax call that shows the task is added - this is currently an alert box

                //when the button w the id add task is clicked, an alert box tells the user
                $("#add_task").on("click",  function(){
                    alert("Task is added")
                }
            );

            //want the user to go to a modal window where they can add a task
            var modal = document.getElementById("addTaskModal");

            //get the button that opens the modal 
            var btn = document.getElementById("add_task");

            //get the span element that closes the modal 
            var span = document.getElementsByClassName("close")[0];

            //when the user clicks on the button, open the modal
            btn.onclick = function() {
                modal.style.display = "block";
            }

            //when the user clicks on the span x close the modal
            span.onclick = function() {
                modal.style.display = "none";
            }

            //when the user clicks anywhere outside of the modal, close it
            window.onclick = function(event) {
                if (event.target == modal) {
                    modal.style.display = "none";
                }
            }
                </script>
                <button id="complete_task" type="submit">Mark Task Complete</button><br>
                <script type="text/javascript">

                //When the button is clicked the user is alerted that their task is marked complete
                $("#complete_task").on("click", function() {
                    alert("Marked Task Complete")
                }
            );
                </script>
                <button id="delete_task" type="submit">Delete Task</button><br>
                <script type="text/javascript">

                //when the button is clicked the user is alerted that the task is deleted
                $("#delete_task").on("click", function() {
                    alert("The task is deleted")
                }
            );
                </script>
            </nav>
        </div>

<!-- This div is the main div where the user will see their current tasks -->
        <div id="main_task_div" class="col-sm-9 col-lg-10">
            <!-- Content -->
            <!-- Jinja loop feed from the db the current tasks -->
            <table>
                {% for task in tasks %}
                <tr>
                    {% set rowloop = loop %}
                    {% for task_name in row %}
                    <!-- not sure how this jinja for loop with tables works but trying this out -->
                    <td id="cell-{{ rowloop.index }}-{{ loop.index }}">{{ task_name }}</td>
                    {% for due_date in row %}
                    <td id="cell-{{ rowloop.index }}-{{ loop.index }}">{{ due_date }}</td>
                </tr>
                {% endfor %}
            </table>
        </div>
    </div>
</div>
{% endblock %}